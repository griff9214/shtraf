<?

use classes\Car;
use classes\DBCarList;
use classes\JsonResponseDecoder;

require_once __DIR__ . '/vendor/autoload.php';
require_once __DIR__ . '/config.php';

$dbStore = new DBCarList($DB);

$finesResponse = '{"error":0,"state":1,"data":{"error":0,"finesList":[{"koapSt":"","koapText":"\u0428\u0422\u0420\u0410\u0424 \u041f\u041e \u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u0418\u0412\u041d\u041e\u041c\u0423 \u041f\u0420\u0410\u0412\u041e\u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0418\u042e \u041f\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d\u0418\u0415 \u211618810177190213095876","fineDate":"2019-02-13","sum":500,"billId":"18810177190213095876","hasDiscount":1,"hasPhoto":1,"divId":0,"discountSum":"250","discountUntil":"2019-03-05"},{"koapSt":"","koapText":"\u0428\u0422\u0420\u0410\u0424 \u041f\u041e \u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u0418\u0412\u041d\u041e\u041c\u0423 \u041f\u0420\u0410\u0412\u041e\u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0418\u042e \u041f\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d\u0418\u0415 \u211618810169190115005412","fineDate":"2019-01-15","sum":"500","billId":"18810169190115005412","hasDiscount":0,"hasPhoto":1,"divId":0,"discountSum":"0","discountUntil":"0000-00-00"},{"koapSt":"","koapText":"\u0428\u0422\u0420\u0410\u0424 \u041f\u041e \u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u0418\u0412\u041d\u041e\u041c\u0423 \u041f\u0420\u0410\u0412\u041e\u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0418\u042e \u041f\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d\u0418\u0415 \u211618810169190115005382","fineDate":"2019-01-15","sum":"500","billId":"18810169190115005382","hasDiscount":0,"hasPhoto":1,"divId":0,"discountSum":"0","discountUntil":"0000-00-00"},{"koapSt":"","koapText":"\u0428\u0422\u0420\u0410\u0424 \u041f\u041e \u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u0418\u0412\u041d\u041e\u041c\u0423 \u041f\u0420\u0410\u0412\u041e\u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0418\u042e \u041f\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d\u0418\u0415 \u211618810177190108273875","fineDate":"2019-01-08","sum":"500","billId":"18810177190108273875","hasDiscount":0,"hasPhoto":1,"divId":0,"discountSum":"0","discountUntil":"0000-00-00"},{"koapSt":"","koapText":"\u0428\u0422\u0420\u0410\u0424 \u041f\u041e \u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u0418\u0412\u041d\u041e\u041c\u0423 \u041f\u0420\u0410\u0412\u041e\u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0418\u042e \u041f\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d\u0418\u0415 \u211618810166181029141699","fineDate":"2018-10-29","sum":"500","billId":"18810166181029141699","hasDiscount":0,"hasPhoto":1,"divId":0,"discountSum":"0","discountUntil":"0000-00-00"},{"koapSt":"","koapText":"\u0428\u0422\u0420\u0410\u0424 \u041f\u041e \u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u0418\u0412\u041d\u041e\u041c\u0423 \u041f\u0420\u0410\u0412\u041e\u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0418\u042e \u041f\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d\u0418\u0415 \u211618810166181012000426","fineDate":"2018-10-12","sum":"500","billId":"18810166181012000426","hasDiscount":0,"hasPhoto":1,"divId":0,"discountSum":"0","discountUntil":"0000-00-00"},{"koapSt":"","koapText":"\u0428\u0422\u0420\u0410\u0424 \u041f\u041e \u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u0418\u0412\u041d\u041e\u041c\u0423 \u041f\u0420\u0410\u0412\u041e\u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0418\u042e \u041f\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d\u0418\u0415 \u211618810166181011065702","fineDate":"2018-10-11","sum":"500","billId":"18810166181011065702","hasDiscount":0,"hasPhoto":1,"divId":0,"discountSum":"0","discountUntil":"0000-00-00"},{"koapSt":"","koapText":"\u0428\u0422\u0420\u0410\u0424 \u041f\u041e \u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u0418\u0412\u041d\u041e\u041c\u0423 \u041f\u0420\u0410\u0412\u041e\u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0418\u042e \u041f\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d\u0418\u0415 \u211618810166181009095861","fineDate":"2018-10-09","sum":"500","billId":"18810166181009095861","hasDiscount":0,"hasPhoto":1,"divId":0,"discountSum":"0","discountUntil":"0000-00-00"},{"koapSt":"","koapText":"\u0428\u0422\u0420\u0410\u0424 \u041f\u041e \u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u0418\u0412\u041d\u041e\u041c\u0423 \u041f\u0420\u0410\u0412\u041e\u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0418\u042e \u041f\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d\u0418\u0415 \u211618810152180926057042","fineDate":"2018-09-26","sum":"500","billId":"18810152180926057042","hasDiscount":0,"hasPhoto":1,"divId":0,"discountSum":"0","discountUntil":"0000-00-00"},{"koapSt":"","koapText":"\u0428\u0422\u0420\u0410\u0424 \u041f\u041e \u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u0418\u0412\u041d\u041e\u041c\u0423 \u041f\u0420\u0410\u0412\u041e\u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0418\u042e \u041f\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d\u0418\u0415 \u211618810152180926002817","fineDate":"2018-09-26","sum":"500","billId":"18810152180926002817","hasDiscount":0,"hasPhoto":1,"divId":0,"discountSum":"0","discountUntil":"0000-00-00"},{"koapSt":"","koapText":"\u0428\u0422\u0420\u0410\u0424 \u041f\u041e \u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u0418\u0412\u041d\u041e\u041c\u0423 \u041f\u0420\u0410\u0412\u041e\u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0418\u042e \u041f\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d\u0418\u0415 \u211618810152180926085164","fineDate":"2018-09-26","sum":"500","billId":"18810152180926085164","hasDiscount":0,"hasPhoto":1,"divId":0,"discountSum":"0","discountUntil":"0000-00-00"},{"koapSt":"","koapText":"\u0428\u0422\u0420\u0410\u0424 \u041f\u041e \u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u0418\u0412\u041d\u041e\u041c\u0423 \u041f\u0420\u0410\u0412\u041e\u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0418\u042e \u041f\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d\u0418\u0415 \u211618810152180926075628","fineDate":"2018-09-26","sum":"500","billId":"18810152180926075628","hasDiscount":0,"hasPhoto":1,"divId":0,"discountSum":"0","discountUntil":"0000-00-00"},{"koapSt":"","koapText":"\u0428\u0422\u0420\u0410\u0424 \u041f\u041e \u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u0418\u0412\u041d\u041e\u041c\u0423 \u041f\u0420\u0410\u0412\u041e\u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0418\u042e \u041f\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d\u0418\u0415 \u211618810152180925137026","fineDate":"2018-09-25","sum":"500","billId":"18810152180925137026","hasDiscount":0,"hasPhoto":1,"divId":0,"discountSum":"0","discountUntil":"0000-00-00"},{"koapSt":"","koapText":"\u0428\u0422\u0420\u0410\u0424 \u041f\u041e \u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u0418\u0412\u041d\u041e\u041c\u0423 \u041f\u0420\u0410\u0412\u041e\u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0418\u042e \u041f\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d\u0418\u0415 \u211618810152180925135384","fineDate":"2018-09-25","sum":"500","billId":"18810152180925135384","hasDiscount":0,"hasPhoto":1,"divId":0,"discountSum":"0","discountUntil":"0000-00-00"},{"koapSt":"","koapText":"\u0428\u0422\u0420\u0410\u0424 \u041f\u041e \u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u0418\u0412\u041d\u041e\u041c\u0423 \u041f\u0420\u0410\u0412\u041e\u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0418\u042e \u041f\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d\u0418\u0415 \u211618810152180925135112","fineDate":"2018-09-25","sum":"500","billId":"18810152180925135112","hasDiscount":0,"hasPhoto":1,"divId":0,"discountSum":"0","discountUntil":"0000-00-00"},{"koapSt":"","koapText":"\u0428\u0422\u0420\u0410\u0424 \u041f\u041e \u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u0418\u0412\u041d\u041e\u041c\u0423 \u041f\u0420\u0410\u0412\u041e\u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0418\u042e \u041f\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d\u0418\u0415 \u211618810152180924064394","fineDate":"2018-09-24","sum":"500","billId":"18810152180924064394","hasDiscount":0,"hasPhoto":1,"divId":0,"discountSum":"0","discountUntil":"0000-00-00"},{"koapSt":"","koapText":"\u0428\u0422\u0420\u0410\u0424 \u041f\u041e \u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u0418\u0412\u041d\u041e\u041c\u0423 \u041f\u0420\u0410\u0412\u041e\u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0418\u042e \u041f\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d\u0418\u0415 \u211618810152180924058726","fineDate":"2018-09-24","sum":"500","billId":"18810152180924058726","hasDiscount":0,"hasPhoto":1,"divId":0,"discountSum":"0","discountUntil":"0000-00-00"},{"koapSt":"","koapText":"\u0428\u0422\u0420\u0410\u0424 \u041f\u041e \u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u0418\u0412\u041d\u041e\u041c\u0423 \u041f\u0420\u0410\u0412\u041e\u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0418\u042e \u041f\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d\u0418\u0415 \u211618810152180924089613","fineDate":"2018-09-24","sum":"500","billId":"18810152180924089613","hasDiscount":0,"hasPhoto":1,"divId":0,"discountSum":"0","discountUntil":"0000-00-00"},{"koapSt":"","koapText":"\u0428\u0422\u0420\u0410\u0424 \u041f\u041e \u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u0418\u0412\u041d\u041e\u041c\u0423 \u041f\u0420\u0410\u0412\u041e\u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0418\u042e \u041f\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d\u0418\u0415 \u211618810150180914615415","fineDate":"2018-09-14","sum":"500","billId":"18810150180914615415","hasDiscount":0,"hasPhoto":1,"divId":0,"discountSum":"0","discountUntil":"0000-00-00"},{"koapSt":"","koapText":"\u0428\u0422\u0420\u0410\u0424 \u041f\u041e \u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u0418\u0412\u041d\u041e\u041c\u0423 \u041f\u0420\u0410\u0412\u041e\u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0418\u042e \u041f\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d\u0418\u0415 \u211618810177180910873537","fineDate":"2018-09-10","sum":"500","billId":"18810177180910873537","hasDiscount":0,"hasPhoto":1,"divId":0,"discountSum":"0","discountUntil":"0000-00-00"},{"koapSt":"","koapText":"\u0428\u0422\u0420\u0410\u0424 \u041f\u041e \u0410\u0414\u041c\u0418\u041d\u0418\u0421\u0422\u0420\u0410\u0422\u0418\u0412\u041d\u041e\u041c\u0423 \u041f\u0420\u0410\u0412\u041e\u041d\u0410\u0420\u0423\u0428\u0415\u041d\u0418\u042e \u041f\u041e\u0421\u0422\u0410\u041d\u041e\u0412\u041b\u0415\u041d\u0418\u0415 \u211618810177180906111237","fineDate":"2018-09-06","sum":"2000","billId":"18810177180906111237","hasDiscount":0,"hasPhoto":1,"divId":0,"discountSum":"0","discountUntil":"0000-00-00"}],"count":22,"inGarage":0},"params":{"num":"\u0420243\u041e\u0425","reg":"77","sts":"7761040908"},"type":0}';

$fines = JsonResponseDecoder::getFines($finesResponse);


$car = new Car(3, "", "", "");
print_r($dbStore->actualizeFines($car, $fines));